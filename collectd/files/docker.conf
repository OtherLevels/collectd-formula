{%- from "collectd/map.jinja" import collectd_settings with context -%}

# Configure the docker-collectd-plugin
TypesDB "/usr/share/collectd/docker-collectd-plugin/dockerplugin.db"

<LoadPlugin python>
  Globals true
</LoadPlugin>

<Plugin python>
  Import "dockerplugin"

  <Module "dockerplugin">
{%- if collectd_settings.plugins.docker.baseurl is defined %}
    BaseURL "{{ collectd_settings.plugins.docker.baseurl }}"
{%- endif %}
{%- if collectd_settings.plugins.docker.dimension is defined %}
    Dimension "{{ collectd_settings.plugins.docker.dimension }}"
{%- endif %}
{%- if collectd_settings.plugins.docker.interval is defined %}
    Interval "{{ collectd_settings.plugins.docker.interval }}"
{%- endif %}
{%- if collectd_settings.plugins.docker.timeout is defined %}
    Timeout "{{ collectd_settings.plugins.docker.timeout }}"
{%- endif %}
{%- if collectd_settings.plugins.docker.verbose is defined %}
    Verbose "{{ collectd_settings.plugins.docker.verbose }}"
{%- endif %}
  </Module>
</Plugin>
